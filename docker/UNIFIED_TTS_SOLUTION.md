# 🎯 统一 TTS 服务架构方案

## 架构设计

```
propsdin-theme (管理员)
       ↓
  JWT Token 认证
       ↓
Unified TTS Gateway (Nginx + Auth)
       ↓
    ┌─────┴─────┐
    ↓           ↓
F5-TTS      IndexTTS2
(Container) (Container)
```

## 方案选择

### 方案 A：统一容器（推荐）⭐

**特点：**
- 一个容器同时运行 F5-TTS 和 IndexTTS2
- 统一的 Gradio UI，可切换不同模型
- 更简单的部署和管理

**优点：**
- ✅ 部署简单，只需一个容器
- ✅ 资源利用率高
- ✅ 统一的用户界面
- ✅ 易于维护

**缺点：**
- ⚠️ 初次下载模型时间较长（两个模型）
- ⚠️ 容器镜像较大

### 方案 B：独立容器

**特点：**
- F5-TTS 和 IndexTTS 各自独立容器
- Nginx 反向代理路由到不同服务
- 可独立启停和扩展

**优点：**
- ✅ 服务隔离，互不影响
- ✅ 可独立扩展和更新
- ✅ 灵活的资源分配

**缺点：**
- ⚠️ 部署复杂度高
- ⚠️ 需要更多的资源（显存）
- ⚠️ 管理成本高

## 推荐实施方案

### 阶段 1：统一 TTS 容器

创建一个包含两个模型的容器，提供统一的 Web UI。

### 阶段 2：与 propsdin-theme 集成

通过 API 或 Iframe 集成到 propsdin-theme 的管理员界面。

### 阶段 3：基于角色的访问控制

实现细粒度的权限管理，只允许管理员访问。

## 详细实施步骤

见后续文件...
